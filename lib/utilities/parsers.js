"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.florenceParserFromCombinedCustomGrammar = florenceParserFromCombinedCustomGrammar;
exports.florenceParserFromBNFAndCombinedCustomGrammar = florenceParserFromBNFAndCombinedCustomGrammar;
exports.default = void 0;
var _occamLexers = require("occam-lexers");
var _occamParsers = require("occam-parsers");
var _occamGrammars = require("occam-grammars");
var _necessary = require("necessary");
var push = _necessary.arrayUtilities.push;
function florenceParserFromCombinedCustomGrammar(combinedCustomGrammar) {
    var bnf = _occamGrammars.FlorenceParser.bnf, florenceParser = florenceParserFromBNFAndCombinedCustomGrammar(bnf, combinedCustomGrammar);
    return florenceParser;
}
function florenceParserFromBNFAndCombinedCustomGrammar(bnf, combinedCustomGrammar) {
    var combinedCustomGrammarRuleMap = combinedCustomGrammar.getRuleMap(), bnfLexer = _occamLexers.BNFLexer.fromNothing(), bnfParser = _occamParsers.BNFParser.fromNothing(), tokens = bnfLexer.tokensFromBNF(bnf), rules = bnfParser.rulesFromTokens(tokens), combinedCustomGrammarRules = Object.values(combinedCustomGrammarRuleMap);
    push(rules, combinedCustomGrammarRules);
    var florenceParser = _occamGrammars.FlorenceParser.fromRules(rules);
    return florenceParser;
}
var _default = {
    florenceParserFromCombinedCustomGrammar: florenceParserFromCombinedCustomGrammar,
    florenceParserFromBNFAndCombinedCustomGrammar: florenceParserFromBNFAndCombinedCustomGrammar
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcGFyc2Vycy5qcyJdLCJuYW1lcyI6WyJCTkZMZXhlciIsIkJORlBhcnNlciIsIkZsb3JlbmNlUGFyc2VyIiwiYXJyYXlVdGlsaXRpZXMiLCJwdXNoIiwiZmxvcmVuY2VQYXJzZXJGcm9tQ29tYmluZWRDdXN0b21HcmFtbWFyIiwiY29tYmluZWRDdXN0b21HcmFtbWFyIiwiYm5mIiwiZmxvcmVuY2VQYXJzZXIiLCJmbG9yZW5jZVBhcnNlckZyb21CTkZBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIiLCJjb21iaW5lZEN1c3RvbUdyYW1tYXJSdWxlTWFwIiwiZ2V0UnVsZU1hcCIsImJuZkxleGVyIiwiZnJvbU5vdGhpbmciLCJibmZQYXJzZXIiLCJ0b2tlbnMiLCJ0b2tlbnNGcm9tQk5GIiwicnVsZXMiLCJydWxlc0Zyb21Ub2tlbnMiLCJjb21iaW5lZEN1c3RvbUdyYW1tYXJSdWxlcyIsIk9iamVjdCIsInZhbHVlcyIsImZyb21SdWxlcyJdLCJtYXBwaW5ncyI6IkNBQUEsVUFBWTs7OztRQVNJLHVDQUF1QyxHQUF2Qyx1Q0FBdUM7UUFPdkMsNkNBQTZDLEdBQTdDLDZDQUE2Qzs7QUFkcEMsR0FBYyxDQUFkLFlBQWM7QUFDYixHQUFlLENBQWYsYUFBZTtBQUNWLEdBQWdCLENBQWhCLGNBQWdCO0FBQ2hCLEdBQVcsQ0FBWCxVQUFXO0FBRTFDLEdBQUssQ0FBRyxJQUFJLEdBRm1CLFVBQVcsZ0JBRWxDLElBQUk7U0FFSSx1Q0FBdUMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQzlFLEdBQUssQ0FBRyxHQUFHLEdBTmtCLGNBQWdCLGdCQU1yQyxHQUFHLEVBQ0wsY0FBYyxHQUFHLDZDQUE2QyxDQUFDLEdBQUcsRUFBRSxxQkFBcUI7SUFFL0YsTUFBTSxDQUFDLGNBQWM7QUFDdkIsQ0FBQztTQUVlLDZDQUE2QyxDQUFDLEdBQUcsRUFBRSxxQkFBcUIsRUFBRSxDQUFDO0lBQ3pGLEdBQUssQ0FBQyw0QkFBNEIsR0FBRyxxQkFBcUIsQ0FBQyxVQUFVLElBQy9ELFFBQVEsR0FoQlMsWUFBYyxVQWdCWCxXQUFXLElBQy9CLFNBQVMsR0FoQlMsYUFBZSxXQWdCWCxXQUFXLElBQ2pDLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FDbkMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUN4QywwQkFBMEIsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLDRCQUE0QjtJQUU3RSxJQUFJLENBQUMsS0FBSyxFQUFFLDBCQUEwQjtJQUV0QyxHQUFLLENBQUMsY0FBYyxHQXRCUyxjQUFnQixnQkFzQlAsU0FBUyxDQUFDLEtBQUs7SUFFckQsTUFBTSxDQUFDLGNBQWM7QUFDdkIsQ0FBQztlQUVjLENBQUM7SUFDZCx1Q0FBdUMsRUFBdkMsdUNBQXVDO0lBQ3ZDLDZDQUE2QyxFQUE3Qyw2Q0FBNkM7QUFDL0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBCTkZMZXhlciB9IGZyb20gXCJvY2NhbS1sZXhlcnNcIjtcbmltcG9ydCB7IEJORlBhcnNlciB9IGZyb20gXCJvY2NhbS1wYXJzZXJzXCI7XG5pbXBvcnQgeyBGbG9yZW5jZVBhcnNlciB9IGZyb20gXCJvY2NhbS1ncmFtbWFyc1wiO1xuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmNvbnN0IHsgcHVzaCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9yZW5jZVBhcnNlckZyb21Db21iaW5lZEN1c3RvbUdyYW1tYXIoY29tYmluZWRDdXN0b21HcmFtbWFyKSB7XG4gIGNvbnN0IHsgYm5mIH0gPSBGbG9yZW5jZVBhcnNlcixcbiAgICAgICAgZmxvcmVuY2VQYXJzZXIgPSBmbG9yZW5jZVBhcnNlckZyb21CTkZBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIoYm5mLCBjb21iaW5lZEN1c3RvbUdyYW1tYXIpO1xuXG4gIHJldHVybiBmbG9yZW5jZVBhcnNlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb3JlbmNlUGFyc2VyRnJvbUJORkFuZENvbWJpbmVkQ3VzdG9tR3JhbW1hcihibmYsIGNvbWJpbmVkQ3VzdG9tR3JhbW1hcikge1xuICBjb25zdCBjb21iaW5lZEN1c3RvbUdyYW1tYXJSdWxlTWFwID0gY29tYmluZWRDdXN0b21HcmFtbWFyLmdldFJ1bGVNYXAoKSxcbiAgICAgICAgYm5mTGV4ZXIgPSBCTkZMZXhlci5mcm9tTm90aGluZygpLFxuICAgICAgICBibmZQYXJzZXIgPSBCTkZQYXJzZXIuZnJvbU5vdGhpbmcoKSxcbiAgICAgICAgdG9rZW5zID0gYm5mTGV4ZXIudG9rZW5zRnJvbUJORihibmYpLFxuICAgICAgICBydWxlcyA9IGJuZlBhcnNlci5ydWxlc0Zyb21Ub2tlbnModG9rZW5zKSxcbiAgICAgICAgY29tYmluZWRDdXN0b21HcmFtbWFyUnVsZXMgPSBPYmplY3QudmFsdWVzKGNvbWJpbmVkQ3VzdG9tR3JhbW1hclJ1bGVNYXApO1xuXG4gIHB1c2gocnVsZXMsIGNvbWJpbmVkQ3VzdG9tR3JhbW1hclJ1bGVzKTtcblxuICBjb25zdCBmbG9yZW5jZVBhcnNlciA9IEZsb3JlbmNlUGFyc2VyLmZyb21SdWxlcyhydWxlcyk7XG5cbiAgcmV0dXJuIGZsb3JlbmNlUGFyc2VyO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGZsb3JlbmNlUGFyc2VyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hcixcbiAgZmxvcmVuY2VQYXJzZXJGcm9tQk5GQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyXG59O1xuIl19