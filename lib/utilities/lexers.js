'use strict';

var lexers = require('occam-lexers');

var Rule = lexers.Rule,
    FlorenceLexer = lexers.FlorenceLexer;

function florenceLexerFromCombinedCustomGrammar(combinedCustomGrammar) {
  var entries = FlorenceLexer.entries,
      florenceLexer = florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar);
  return florenceLexer;
}

function florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar) {
  var combinedCustomGrammarLexicalPattern = combinedCustomGrammar.getLexicalPattern(),
      custom = combinedCustomGrammarLexicalPattern,
      ///
  customGrammarEntry = {
    custom: custom
  },
      customGrammarRule = Rule.fromEntry(customGrammarEntry),
      rules = entries.map(function (entry) {
    return Rule.fromEntry(entry);
  });
  rules.unshift(customGrammarRule);
  var florenceLexer = new FlorenceLexer(rules);
  return florenceLexer;
}

module.exports = {
  florenceLexerFromCombinedCustomGrammar: florenceLexerFromCombinedCustomGrammar,
  florenceLexerFromEntriesAndCombinedCustomGrammar: florenceLexerFromEntriesAndCombinedCustomGrammar
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxleGVycy5qcyJdLCJuYW1lcyI6WyJsZXhlcnMiLCJyZXF1aXJlIiwiUnVsZSIsIkZsb3JlbmNlTGV4ZXIiLCJmbG9yZW5jZUxleGVyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hciIsImNvbWJpbmVkQ3VzdG9tR3JhbW1hciIsImVudHJpZXMiLCJmbG9yZW5jZUxleGVyIiwiZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyIiwiY29tYmluZWRDdXN0b21HcmFtbWFyTGV4aWNhbFBhdHRlcm4iLCJnZXRMZXhpY2FsUGF0dGVybiIsImN1c3RvbSIsImN1c3RvbUdyYW1tYXJFbnRyeSIsImN1c3RvbUdyYW1tYXJSdWxlIiwiZnJvbUVudHJ5IiwicnVsZXMiLCJtYXAiLCJlbnRyeSIsInVuc2hpZnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQXRCOztJQUVRQyxJLEdBQXdCRixNLENBQXhCRSxJO0lBQU1DLGEsR0FBa0JILE0sQ0FBbEJHLGE7O0FBRWQsU0FBU0Msc0NBQVQsQ0FBZ0RDLHFCQUFoRCxFQUF1RTtBQUMvRCxNQUFFQyxPQUFGLEdBQWNILGFBQWQsQ0FBRUcsT0FBRjtBQUFBLE1BQ0FDLGFBREEsR0FDZ0JDLGdEQUFnRCxDQUFDRixPQUFELEVBQVVELHFCQUFWLENBRGhFO0FBR04sU0FBT0UsYUFBUDtBQUNEOztBQUVELFNBQVNDLGdEQUFULENBQTBERixPQUExRCxFQUFtRUQscUJBQW5FLEVBQTBGO0FBQ3hGLE1BQU1JLG1DQUFtQyxHQUFHSixxQkFBcUIsQ0FBQ0ssaUJBQXRCLEVBQTVDO0FBQUEsTUFDTUMsTUFBTSxHQUFHRixtQ0FEZjtBQUFBLE1BQ29EO0FBQzlDRyxFQUFBQSxrQkFBa0IsR0FBRztBQUNuQkQsSUFBQUEsTUFBTSxFQUFOQTtBQURtQixHQUYzQjtBQUFBLE1BS01FLGlCQUFpQixHQUFJWCxJQUFJLENBQUNZLFNBQUwsQ0FBZUYsa0JBQWYsQ0FMM0I7QUFBQSxNQU1NRyxLQUFLLEdBQUdULE9BQU8sQ0FBQ1UsR0FBUixDQUFZLFVBQUNDLEtBQUQ7QUFBQSxXQUFXZixJQUFJLENBQUNZLFNBQUwsQ0FBZUcsS0FBZixDQUFYO0FBQUEsR0FBWixDQU5kO0FBUUFGLEVBQUFBLEtBQUssQ0FBQ0csT0FBTixDQUFjTCxpQkFBZDtBQUVBLE1BQU1OLGFBQWEsR0FBRyxJQUFJSixhQUFKLENBQWtCWSxLQUFsQixDQUF0QjtBQUVBLFNBQU9SLGFBQVA7QUFDRDs7QUFFRFksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZoQixFQUFBQSxzQ0FBc0MsRUFBdENBLHNDQURlO0FBRWZJLEVBQUFBLGdEQUFnRCxFQUFoREE7QUFGZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbGV4ZXJzID0gcmVxdWlyZSgnb2NjYW0tbGV4ZXJzJyk7XG5cbmNvbnN0IHsgUnVsZSwgRmxvcmVuY2VMZXhlciB9ID0gbGV4ZXJzO1xuXG5mdW5jdGlvbiBmbG9yZW5jZUxleGVyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hcihjb21iaW5lZEN1c3RvbUdyYW1tYXIpIHtcbiAgY29uc3QgeyBlbnRyaWVzIH0gPSBGbG9yZW5jZUxleGVyLFxuICAgICAgICBmbG9yZW5jZUxleGVyID0gZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyKGVudHJpZXMsIGNvbWJpbmVkQ3VzdG9tR3JhbW1hcik7XG5cbiAgcmV0dXJuIGZsb3JlbmNlTGV4ZXI7XG59XG5cbmZ1bmN0aW9uIGZsb3JlbmNlTGV4ZXJGcm9tRW50cmllc0FuZENvbWJpbmVkQ3VzdG9tR3JhbW1hcihlbnRyaWVzLCBjb21iaW5lZEN1c3RvbUdyYW1tYXIpIHtcbiAgY29uc3QgY29tYmluZWRDdXN0b21HcmFtbWFyTGV4aWNhbFBhdHRlcm4gPSBjb21iaW5lZEN1c3RvbUdyYW1tYXIuZ2V0TGV4aWNhbFBhdHRlcm4oKSxcbiAgICAgICAgY3VzdG9tID0gY29tYmluZWRDdXN0b21HcmFtbWFyTGV4aWNhbFBhdHRlcm4sIC8vL1xuICAgICAgICBjdXN0b21HcmFtbWFyRW50cnkgPSB7XG4gICAgICAgICAgY3VzdG9tXG4gICAgICAgIH0sXG4gICAgICAgIGN1c3RvbUdyYW1tYXJSdWxlID0gIFJ1bGUuZnJvbUVudHJ5KGN1c3RvbUdyYW1tYXJFbnRyeSksXG4gICAgICAgIHJ1bGVzID0gZW50cmllcy5tYXAoKGVudHJ5KSA9PiBSdWxlLmZyb21FbnRyeShlbnRyeSkpO1xuXG4gIHJ1bGVzLnVuc2hpZnQoY3VzdG9tR3JhbW1hclJ1bGUpO1xuXG4gIGNvbnN0IGZsb3JlbmNlTGV4ZXIgPSBuZXcgRmxvcmVuY2VMZXhlcihydWxlcyk7XG5cbiAgcmV0dXJuIGZsb3JlbmNlTGV4ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmbG9yZW5jZUxleGVyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hcixcbiAgZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyXG59O1xuIl19