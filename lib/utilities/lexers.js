'use strict';

var lexers = require('occam-lexers');

var Rule = lexers.Rule,
    FlorenceLexer = lexers.FlorenceLexer;


function florenceLexerFromCombinedCustomGrammar(combinedCustomGrammar) {
  var entries = FlorenceLexer.entries,
      florenceLexer = florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar);


  return florenceLexer;
}

function florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar) {
  var combinedCustomGrammarLexicalPattern = combinedCustomGrammar.getLexicalPattern(),
      custom = combinedCustomGrammarLexicalPattern,
      ///
  customGrammarEntry = {
    custom: custom
  },
      customGrammarRule = Rule.fromEntry(customGrammarEntry),
      rules = entries.map(function (entry) {
    var rule = Rule.fromEntry(entry);

    return rule;
  });

  rules.push(customGrammarRule);

  var florenceLexer = new FlorenceLexer(rules);

  return florenceLexer;
}

module.exports = {
  florenceLexerFromCombinedCustomGrammar: florenceLexerFromCombinedCustomGrammar,
  florenceLexerFromEntriesAndCombinedCustomGrammar: florenceLexerFromEntriesAndCombinedCustomGrammar
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvbGV4ZXJzLmpzIl0sIm5hbWVzIjpbImxleGVycyIsInJlcXVpcmUiLCJSdWxlIiwiRmxvcmVuY2VMZXhlciIsImZsb3JlbmNlTGV4ZXJGcm9tQ29tYmluZWRDdXN0b21HcmFtbWFyIiwiY29tYmluZWRDdXN0b21HcmFtbWFyIiwiZW50cmllcyIsImZsb3JlbmNlTGV4ZXIiLCJmbG9yZW5jZUxleGVyRnJvbUVudHJpZXNBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIiLCJjb21iaW5lZEN1c3RvbUdyYW1tYXJMZXhpY2FsUGF0dGVybiIsImdldExleGljYWxQYXR0ZXJuIiwiY3VzdG9tIiwiY3VzdG9tR3JhbW1hckVudHJ5IiwiY3VzdG9tR3JhbW1hclJ1bGUiLCJmcm9tRW50cnkiLCJydWxlcyIsIm1hcCIsImVudHJ5IiwicnVsZSIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxTQUFTQyxRQUFRLGNBQVIsQ0FBZjs7SUFFUUMsSSxHQUF3QkYsTSxDQUF4QkUsSTtJQUFNQyxhLEdBQWtCSCxNLENBQWxCRyxhOzs7QUFFZCxTQUFTQyxzQ0FBVCxDQUFnREMscUJBQWhELEVBQXVFO0FBQy9ELE1BQUVDLE9BQUYsR0FBY0gsYUFBZCxDQUFFRyxPQUFGO0FBQUEsTUFDQUMsYUFEQSxHQUNnQkMsaURBQWlERixPQUFqRCxFQUEwREQscUJBQTFELENBRGhCOzs7QUFHTixTQUFPRSxhQUFQO0FBQ0Q7O0FBRUQsU0FBU0MsZ0RBQVQsQ0FBMERGLE9BQTFELEVBQW1FRCxxQkFBbkUsRUFBMEY7QUFDeEYsTUFBTUksc0NBQXNDSixzQkFBc0JLLGlCQUF0QixFQUE1QztBQUFBLE1BQ01DLFNBQVNGLG1DQURmO0FBQUEsTUFDb0Q7QUFDOUNHLHVCQUFxQjtBQUNuQkQ7QUFEbUIsR0FGM0I7QUFBQSxNQUtNRSxvQkFBcUJYLEtBQUtZLFNBQUwsQ0FBZUYsa0JBQWYsQ0FMM0I7QUFBQSxNQU1NRyxRQUFRVCxRQUFRVSxHQUFSLENBQVksVUFBQ0MsS0FBRCxFQUFXO0FBQzdCLFFBQU1DLE9BQU9oQixLQUFLWSxTQUFMLENBQWVHLEtBQWYsQ0FBYjs7QUFFQSxXQUFPQyxJQUFQO0FBQ0QsR0FKTyxDQU5kOztBQVlBSCxRQUFNSSxJQUFOLENBQVdOLGlCQUFYOztBQUVBLE1BQU1OLGdCQUFnQixJQUFJSixhQUFKLENBQWtCWSxLQUFsQixDQUF0Qjs7QUFFQSxTQUFPUixhQUFQO0FBQ0Q7O0FBRURhLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmpCLGdGQURlO0FBRWZJO0FBRmUsQ0FBakIiLCJmaWxlIjoibGV4ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBsZXhlcnMgPSByZXF1aXJlKCdvY2NhbS1sZXhlcnMnKTtcblxuY29uc3QgeyBSdWxlLCBGbG9yZW5jZUxleGVyIH0gPSBsZXhlcnM7XG5cbmZ1bmN0aW9uIGZsb3JlbmNlTGV4ZXJGcm9tQ29tYmluZWRDdXN0b21HcmFtbWFyKGNvbWJpbmVkQ3VzdG9tR3JhbW1hcikge1xuICBjb25zdCB7IGVudHJpZXMgfSA9IEZsb3JlbmNlTGV4ZXIsXG4gICAgICAgIGZsb3JlbmNlTGV4ZXIgPSBmbG9yZW5jZUxleGVyRnJvbUVudHJpZXNBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIoZW50cmllcywgY29tYmluZWRDdXN0b21HcmFtbWFyKTtcblxuICByZXR1cm4gZmxvcmVuY2VMZXhlcjtcbn1cblxuZnVuY3Rpb24gZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyKGVudHJpZXMsIGNvbWJpbmVkQ3VzdG9tR3JhbW1hcikge1xuICBjb25zdCBjb21iaW5lZEN1c3RvbUdyYW1tYXJMZXhpY2FsUGF0dGVybiA9IGNvbWJpbmVkQ3VzdG9tR3JhbW1hci5nZXRMZXhpY2FsUGF0dGVybigpLFxuICAgICAgICBjdXN0b20gPSBjb21iaW5lZEN1c3RvbUdyYW1tYXJMZXhpY2FsUGF0dGVybiwgLy8vXG4gICAgICAgIGN1c3RvbUdyYW1tYXJFbnRyeSA9IHtcbiAgICAgICAgICBjdXN0b21cbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tR3JhbW1hclJ1bGUgPSAgUnVsZS5mcm9tRW50cnkoY3VzdG9tR3JhbW1hckVudHJ5KSxcbiAgICAgICAgcnVsZXMgPSBlbnRyaWVzLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCBydWxlID0gUnVsZS5mcm9tRW50cnkoZW50cnkpO1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICAgIH0pO1xuXG4gIHJ1bGVzLnB1c2goY3VzdG9tR3JhbW1hclJ1bGUpO1xuXG4gIGNvbnN0IGZsb3JlbmNlTGV4ZXIgPSBuZXcgRmxvcmVuY2VMZXhlcihydWxlcyk7XG5cbiAgcmV0dXJuIGZsb3JlbmNlTGV4ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmbG9yZW5jZUxleGVyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hcixcbiAgZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyXG59O1xuIl19