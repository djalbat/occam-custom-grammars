'use strict';

var lexers = require('occam-lexers');

var Rule = lexers.Rule,
    FlorenceLexer = lexers.FlorenceLexer;


function florenceLexerFromCombinedCustomGrammar(combinedCustomGrammar) {
  var entries = FlorenceLexer.entries,
      florenceLexer = florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar);


  return florenceLexer;
}

function florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar) {
  var combinedCustomGrammarLexicalPattern = combinedCustomGrammar.getLexicalPattern(),
      custom = combinedCustomGrammarLexicalPattern,
      ///
  customGrammarEntry = {
    custom: custom
  },
      customGrammarRule = Rule.fromEntry(customGrammarEntry),
      rules = entries.map(function (entry) {
    return Rule.fromEntry(entry);
  });

  rules.unshift(customGrammarRule);

  var florenceLexer = new FlorenceLexer(rules);

  return florenceLexer;
}

module.exports = {
  florenceLexerFromCombinedCustomGrammar: florenceLexerFromCombinedCustomGrammar,
  florenceLexerFromEntriesAndCombinedCustomGrammar: florenceLexerFromEntriesAndCombinedCustomGrammar
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvbGV4ZXJzLmpzIl0sIm5hbWVzIjpbImxleGVycyIsInJlcXVpcmUiLCJSdWxlIiwiRmxvcmVuY2VMZXhlciIsImZsb3JlbmNlTGV4ZXJGcm9tQ29tYmluZWRDdXN0b21HcmFtbWFyIiwiY29tYmluZWRDdXN0b21HcmFtbWFyIiwiZW50cmllcyIsImZsb3JlbmNlTGV4ZXIiLCJmbG9yZW5jZUxleGVyRnJvbUVudHJpZXNBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIiLCJjb21iaW5lZEN1c3RvbUdyYW1tYXJMZXhpY2FsUGF0dGVybiIsImdldExleGljYWxQYXR0ZXJuIiwiY3VzdG9tIiwiY3VzdG9tR3JhbW1hckVudHJ5IiwiY3VzdG9tR3JhbW1hclJ1bGUiLCJmcm9tRW50cnkiLCJydWxlcyIsIm1hcCIsImVudHJ5IiwidW5zaGlmdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFNBQVNDLFFBQVEsY0FBUixDQUFmOztJQUVRQyxJLEdBQXdCRixNLENBQXhCRSxJO0lBQU1DLGEsR0FBa0JILE0sQ0FBbEJHLGE7OztBQUVkLFNBQVNDLHNDQUFULENBQWdEQyxxQkFBaEQsRUFBdUU7QUFDL0QsTUFBRUMsT0FBRixHQUFjSCxhQUFkLENBQUVHLE9BQUY7QUFBQSxNQUNBQyxhQURBLEdBQ2dCQyxpREFBaURGLE9BQWpELEVBQTBERCxxQkFBMUQsQ0FEaEI7OztBQUdOLFNBQU9FLGFBQVA7QUFDRDs7QUFFRCxTQUFTQyxnREFBVCxDQUEwREYsT0FBMUQsRUFBbUVELHFCQUFuRSxFQUEwRjtBQUN4RixNQUFNSSxzQ0FBc0NKLHNCQUFzQkssaUJBQXRCLEVBQTVDO0FBQUEsTUFDTUMsU0FBU0YsbUNBRGY7QUFBQSxNQUNvRDtBQUM5Q0csdUJBQXFCO0FBQ25CRDtBQURtQixHQUYzQjtBQUFBLE1BS01FLG9CQUFxQlgsS0FBS1ksU0FBTCxDQUFlRixrQkFBZixDQUwzQjtBQUFBLE1BTU1HLFFBQVFULFFBQVFVLEdBQVIsQ0FBWSxVQUFDQyxLQUFEO0FBQUEsV0FBV2YsS0FBS1ksU0FBTCxDQUFlRyxLQUFmLENBQVg7QUFBQSxHQUFaLENBTmQ7O0FBUUFGLFFBQU1HLE9BQU4sQ0FBY0wsaUJBQWQ7O0FBRUEsTUFBTU4sZ0JBQWdCLElBQUlKLGFBQUosQ0FBa0JZLEtBQWxCLENBQXRCOztBQUVBLFNBQU9SLGFBQVA7QUFDRDs7QUFFRFksT0FBT0MsT0FBUCxHQUFpQjtBQUNmaEIsZ0ZBRGU7QUFFZkk7QUFGZSxDQUFqQiIsImZpbGUiOiJsZXhlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGxleGVycyA9IHJlcXVpcmUoJ29jY2FtLWxleGVycycpO1xuXG5jb25zdCB7IFJ1bGUsIEZsb3JlbmNlTGV4ZXIgfSA9IGxleGVycztcblxuZnVuY3Rpb24gZmxvcmVuY2VMZXhlckZyb21Db21iaW5lZEN1c3RvbUdyYW1tYXIoY29tYmluZWRDdXN0b21HcmFtbWFyKSB7XG4gIGNvbnN0IHsgZW50cmllcyB9ID0gRmxvcmVuY2VMZXhlcixcbiAgICAgICAgZmxvcmVuY2VMZXhlciA9IGZsb3JlbmNlTGV4ZXJGcm9tRW50cmllc0FuZENvbWJpbmVkQ3VzdG9tR3JhbW1hcihlbnRyaWVzLCBjb21iaW5lZEN1c3RvbUdyYW1tYXIpO1xuXG4gIHJldHVybiBmbG9yZW5jZUxleGVyO1xufVxuXG5mdW5jdGlvbiBmbG9yZW5jZUxleGVyRnJvbUVudHJpZXNBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIoZW50cmllcywgY29tYmluZWRDdXN0b21HcmFtbWFyKSB7XG4gIGNvbnN0IGNvbWJpbmVkQ3VzdG9tR3JhbW1hckxleGljYWxQYXR0ZXJuID0gY29tYmluZWRDdXN0b21HcmFtbWFyLmdldExleGljYWxQYXR0ZXJuKCksXG4gICAgICAgIGN1c3RvbSA9IGNvbWJpbmVkQ3VzdG9tR3JhbW1hckxleGljYWxQYXR0ZXJuLCAvLy9cbiAgICAgICAgY3VzdG9tR3JhbW1hckVudHJ5ID0ge1xuICAgICAgICAgIGN1c3RvbVxuICAgICAgICB9LFxuICAgICAgICBjdXN0b21HcmFtbWFyUnVsZSA9ICBSdWxlLmZyb21FbnRyeShjdXN0b21HcmFtbWFyRW50cnkpLFxuICAgICAgICBydWxlcyA9IGVudHJpZXMubWFwKChlbnRyeSkgPT4gUnVsZS5mcm9tRW50cnkoZW50cnkpKTtcblxuICBydWxlcy51bnNoaWZ0KGN1c3RvbUdyYW1tYXJSdWxlKTtcblxuICBjb25zdCBmbG9yZW5jZUxleGVyID0gbmV3IEZsb3JlbmNlTGV4ZXIocnVsZXMpO1xuXG4gIHJldHVybiBmbG9yZW5jZUxleGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZmxvcmVuY2VMZXhlckZyb21Db21iaW5lZEN1c3RvbUdyYW1tYXIsXG4gIGZsb3JlbmNlTGV4ZXJGcm9tRW50cmllc0FuZENvbWJpbmVkQ3VzdG9tR3JhbW1hclxufTtcbiJdfQ==