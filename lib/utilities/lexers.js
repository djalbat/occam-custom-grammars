"use strict";

var lexers = require("occam-lexers");

var Rule = lexers.Rule,
    FlorenceLexer = lexers.FlorenceLexer;

function florenceLexerFromCombinedCustomGrammar(combinedCustomGrammar) {
  var entries = FlorenceLexer.entries,
      florenceLexer = florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar);
  return florenceLexer;
}

function florenceLexerFromEntriesAndCombinedCustomGrammar(entries, combinedCustomGrammar) {
  var combinedCustomGrammarLexicalPattern = combinedCustomGrammar.getLexicalPattern(),
      custom = combinedCustomGrammarLexicalPattern,
      ///
  customGrammarEntry = {
    custom: custom
  },
      customGrammarRule = Rule.fromEntry(customGrammarEntry),
      rules = entries.map(function (entry) {
    return Rule.fromEntry(entry);
  });
  rules.unshift(customGrammarRule);
  var florenceLexer = new FlorenceLexer(rules);
  return florenceLexer;
}

module.exports = {
  florenceLexerFromCombinedCustomGrammar: florenceLexerFromCombinedCustomGrammar,
  florenceLexerFromEntriesAndCombinedCustomGrammar: florenceLexerFromEntriesAndCombinedCustomGrammar
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxleGVycy5qcyJdLCJuYW1lcyI6WyJsZXhlcnMiLCJyZXF1aXJlIiwiUnVsZSIsIkZsb3JlbmNlTGV4ZXIiLCJmbG9yZW5jZUxleGVyRnJvbUNvbWJpbmVkQ3VzdG9tR3JhbW1hciIsImNvbWJpbmVkQ3VzdG9tR3JhbW1hciIsImVudHJpZXMiLCJmbG9yZW5jZUxleGVyIiwiZmxvcmVuY2VMZXhlckZyb21FbnRyaWVzQW5kQ29tYmluZWRDdXN0b21HcmFtbWFyIiwiY29tYmluZWRDdXN0b21HcmFtbWFyTGV4aWNhbFBhdHRlcm4iLCJnZXRMZXhpY2FsUGF0dGVybiIsImN1c3RvbSIsImN1c3RvbUdyYW1tYXJFbnRyeSIsImN1c3RvbUdyYW1tYXJSdWxlIiwiZnJvbUVudHJ5IiwicnVsZXMiLCJtYXAiLCJlbnRyeSIsInVuc2hpZnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQXRCOztJQUVRQyxJLEdBQXdCRixNLENBQXhCRSxJO0lBQU1DLGEsR0FBa0JILE0sQ0FBbEJHLGE7O0FBRWQsU0FBU0Msc0NBQVQsQ0FBZ0RDLHFCQUFoRCxFQUF1RTtBQUMvRCxNQUFFQyxPQUFGLEdBQWNILGFBQWQsQ0FBRUcsT0FBRjtBQUFBLE1BQ0FDLGFBREEsR0FDZ0JDLGdEQUFnRCxDQUFDRixPQUFELEVBQVVELHFCQUFWLENBRGhFO0FBR04sU0FBT0UsYUFBUDtBQUNEOztBQUVELFNBQVNDLGdEQUFULENBQTBERixPQUExRCxFQUFtRUQscUJBQW5FLEVBQTBGO0FBQ3hGLE1BQU1JLG1DQUFtQyxHQUFHSixxQkFBcUIsQ0FBQ0ssaUJBQXRCLEVBQTVDO0FBQUEsTUFDTUMsTUFBTSxHQUFHRixtQ0FEZjtBQUFBLE1BQ29EO0FBQzlDRyxFQUFBQSxrQkFBa0IsR0FBRztBQUNuQkQsSUFBQUEsTUFBTSxFQUFOQTtBQURtQixHQUYzQjtBQUFBLE1BS01FLGlCQUFpQixHQUFJWCxJQUFJLENBQUNZLFNBQUwsQ0FBZUYsa0JBQWYsQ0FMM0I7QUFBQSxNQU1NRyxLQUFLLEdBQUdULE9BQU8sQ0FBQ1UsR0FBUixDQUFZLFVBQUNDLEtBQUQ7QUFBQSxXQUFXZixJQUFJLENBQUNZLFNBQUwsQ0FBZUcsS0FBZixDQUFYO0FBQUEsR0FBWixDQU5kO0FBUUFGLEVBQUFBLEtBQUssQ0FBQ0csT0FBTixDQUFjTCxpQkFBZDtBQUVBLE1BQU1OLGFBQWEsR0FBRyxJQUFJSixhQUFKLENBQWtCWSxLQUFsQixDQUF0QjtBQUVBLFNBQU9SLGFBQVA7QUFDRDs7QUFFRFksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZoQixFQUFBQSxzQ0FBc0MsRUFBdENBLHNDQURlO0FBRWZJLEVBQUFBLGdEQUFnRCxFQUFoREE7QUFGZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBsZXhlcnMgPSByZXF1aXJlKFwib2NjYW0tbGV4ZXJzXCIpO1xuXG5jb25zdCB7IFJ1bGUsIEZsb3JlbmNlTGV4ZXIgfSA9IGxleGVycztcblxuZnVuY3Rpb24gZmxvcmVuY2VMZXhlckZyb21Db21iaW5lZEN1c3RvbUdyYW1tYXIoY29tYmluZWRDdXN0b21HcmFtbWFyKSB7XG4gIGNvbnN0IHsgZW50cmllcyB9ID0gRmxvcmVuY2VMZXhlcixcbiAgICAgICAgZmxvcmVuY2VMZXhlciA9IGZsb3JlbmNlTGV4ZXJGcm9tRW50cmllc0FuZENvbWJpbmVkQ3VzdG9tR3JhbW1hcihlbnRyaWVzLCBjb21iaW5lZEN1c3RvbUdyYW1tYXIpO1xuXG4gIHJldHVybiBmbG9yZW5jZUxleGVyO1xufVxuXG5mdW5jdGlvbiBmbG9yZW5jZUxleGVyRnJvbUVudHJpZXNBbmRDb21iaW5lZEN1c3RvbUdyYW1tYXIoZW50cmllcywgY29tYmluZWRDdXN0b21HcmFtbWFyKSB7XG4gIGNvbnN0IGNvbWJpbmVkQ3VzdG9tR3JhbW1hckxleGljYWxQYXR0ZXJuID0gY29tYmluZWRDdXN0b21HcmFtbWFyLmdldExleGljYWxQYXR0ZXJuKCksXG4gICAgICAgIGN1c3RvbSA9IGNvbWJpbmVkQ3VzdG9tR3JhbW1hckxleGljYWxQYXR0ZXJuLCAvLy9cbiAgICAgICAgY3VzdG9tR3JhbW1hckVudHJ5ID0ge1xuICAgICAgICAgIGN1c3RvbVxuICAgICAgICB9LFxuICAgICAgICBjdXN0b21HcmFtbWFyUnVsZSA9ICBSdWxlLmZyb21FbnRyeShjdXN0b21HcmFtbWFyRW50cnkpLFxuICAgICAgICBydWxlcyA9IGVudHJpZXMubWFwKChlbnRyeSkgPT4gUnVsZS5mcm9tRW50cnkoZW50cnkpKTtcblxuICBydWxlcy51bnNoaWZ0KGN1c3RvbUdyYW1tYXJSdWxlKTtcblxuICBjb25zdCBmbG9yZW5jZUxleGVyID0gbmV3IEZsb3JlbmNlTGV4ZXIocnVsZXMpO1xuXG4gIHJldHVybiBmbG9yZW5jZUxleGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZmxvcmVuY2VMZXhlckZyb21Db21iaW5lZEN1c3RvbUdyYW1tYXIsXG4gIGZsb3JlbmNlTGV4ZXJGcm9tRW50cmllc0FuZENvbWJpbmVkQ3VzdG9tR3JhbW1hclxufTtcbiJdfQ==