'use strict';

var parsers = require('occam-parsers'); ///

var BasicParser = parsers.BasicParser;


function rulesFromBNF(bnf) {
  var basicParser = BasicParser.fromBNF(bnf),
      rules = basicParser.getRules();

  return rules;
}

function rulesAsString(rules, multiLine) {
  var maximumRuleNameLength = rules.reduce(function (maximumRuleNameLength, rule) {
    var ruleName = rule.getName(),
        ruleNameLength = ruleName.length;

    maximumRuleNameLength = Math.max(maximumRuleNameLength, ruleNameLength);

    return maximumRuleNameLength;
  }, 0),
      rulesString = rules.reduce(function (rulesString, rule) {
    var ruleString = rule.asString(maximumRuleNameLength, multiLine);

    rulesString += ruleString;

    return rulesString;
  }, '').replace(/^\n\n/, '');

  return rulesString;
}

module.exports = {
  rulesFromBNF: rulesFromBNF,
  rulesAsString: rulesAsString
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvcnVsZXMuanMiXSwibmFtZXMiOlsicGFyc2VycyIsInJlcXVpcmUiLCJCYXNpY1BhcnNlciIsInJ1bGVzRnJvbUJORiIsImJuZiIsImJhc2ljUGFyc2VyIiwiZnJvbUJORiIsInJ1bGVzIiwiZ2V0UnVsZXMiLCJydWxlc0FzU3RyaW5nIiwibXVsdGlMaW5lIiwibWF4aW11bVJ1bGVOYW1lTGVuZ3RoIiwicmVkdWNlIiwicnVsZSIsInJ1bGVOYW1lIiwiZ2V0TmFtZSIsInJ1bGVOYW1lTGVuZ3RoIiwibGVuZ3RoIiwiTWF0aCIsIm1heCIsInJ1bGVzU3RyaW5nIiwicnVsZVN0cmluZyIsImFzU3RyaW5nIiwicmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFVBQVVDLFFBQVEsZUFBUixDQUFoQixDLENBQTBDOztJQUVsQ0MsVyxHQUFnQkYsTyxDQUFoQkUsVzs7O0FBRVIsU0FBU0MsWUFBVCxDQUFzQkMsR0FBdEIsRUFBMkI7QUFDM0IsTUFBTUMsY0FBY0gsWUFBWUksT0FBWixDQUFvQkYsR0FBcEIsQ0FBcEI7QUFBQSxNQUNNRyxRQUFRRixZQUFZRyxRQUFaLEVBRGQ7O0FBR0EsU0FBT0QsS0FBUDtBQUNDOztBQUVELFNBQVNFLGFBQVQsQ0FBdUJGLEtBQXZCLEVBQThCRyxTQUE5QixFQUF5QztBQUN2QyxNQUFNQyx3QkFBd0JKLE1BQU1LLE1BQU4sQ0FBYSxVQUFDRCxxQkFBRCxFQUF3QkUsSUFBeEIsRUFBaUM7QUFDcEUsUUFBTUMsV0FBV0QsS0FBS0UsT0FBTCxFQUFqQjtBQUFBLFFBQ01DLGlCQUFpQkYsU0FBU0csTUFEaEM7O0FBR0FOLDRCQUF3Qk8sS0FBS0MsR0FBTCxDQUFTUixxQkFBVCxFQUFnQ0ssY0FBaEMsQ0FBeEI7O0FBRUEsV0FBT0wscUJBQVA7QUFDRCxHQVB1QixFQU9yQixDQVBxQixDQUE5QjtBQUFBLE1BUU1TLGNBQWNiLE1BQU1LLE1BQU4sQ0FBYSxVQUFDUSxXQUFELEVBQWNQLElBQWQsRUFBdUI7QUFDaEQsUUFBTVEsYUFBYVIsS0FBS1MsUUFBTCxDQUFjWCxxQkFBZCxFQUFxQ0QsU0FBckMsQ0FBbkI7O0FBRUFVLG1CQUFlQyxVQUFmOztBQUVBLFdBQU9ELFdBQVA7QUFDRCxHQU5hLEVBTVgsRUFOVyxFQU1QRyxPQU5PLENBTUMsT0FORCxFQU1VLEVBTlYsQ0FScEI7O0FBZ0JBLFNBQU9ILFdBQVA7QUFDRDs7QUFFREksT0FBT0MsT0FBUCxHQUFpQjtBQUNmdEIsNEJBRGU7QUFFZk07QUFGZSxDQUFqQiIsImZpbGUiOiJydWxlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGFyc2VycyA9IHJlcXVpcmUoJ29jY2FtLXBhcnNlcnMnKTsgLy8vXG5cbmNvbnN0IHsgQmFzaWNQYXJzZXIgfSA9IHBhcnNlcnM7XG5cbmZ1bmN0aW9uIHJ1bGVzRnJvbUJORihibmYpIHtcbmNvbnN0IGJhc2ljUGFyc2VyID0gQmFzaWNQYXJzZXIuZnJvbUJORihibmYpLFxuICAgICAgcnVsZXMgPSBiYXNpY1BhcnNlci5nZXRSdWxlcygpO1xuXG5yZXR1cm4gcnVsZXM7XG59XG5cbmZ1bmN0aW9uIHJ1bGVzQXNTdHJpbmcocnVsZXMsIG11bHRpTGluZSkge1xuICBjb25zdCBtYXhpbXVtUnVsZU5hbWVMZW5ndGggPSBydWxlcy5yZWR1Y2UoKG1heGltdW1SdWxlTmFtZUxlbmd0aCwgcnVsZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCksXG4gICAgICAgICAgICAgICAgcnVsZU5hbWVMZW5ndGggPSBydWxlTmFtZS5sZW5ndGg7XG5cbiAgICAgICAgICBtYXhpbXVtUnVsZU5hbWVMZW5ndGggPSBNYXRoLm1heChtYXhpbXVtUnVsZU5hbWVMZW5ndGgsIHJ1bGVOYW1lTGVuZ3RoKTtcblxuICAgICAgICAgIHJldHVybiBtYXhpbXVtUnVsZU5hbWVMZW5ndGg7XG4gICAgICAgIH0sIDApLFxuICAgICAgICBydWxlc1N0cmluZyA9IHJ1bGVzLnJlZHVjZSgocnVsZXNTdHJpbmcsIHJ1bGUpID0+IHtcbiAgICAgICAgICBjb25zdCBydWxlU3RyaW5nID0gcnVsZS5hc1N0cmluZyhtYXhpbXVtUnVsZU5hbWVMZW5ndGgsIG11bHRpTGluZSk7XG5cbiAgICAgICAgICBydWxlc1N0cmluZyArPSBydWxlU3RyaW5nO1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bGVzU3RyaW5nO1xuICAgICAgICB9LCAnJykucmVwbGFjZSgvXlxcblxcbi8sICcnKTtcblxuICByZXR1cm4gcnVsZXNTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBydWxlc0Zyb21CTkYsXG4gIHJ1bGVzQXNTdHJpbmdcbn07XG4iXX0=