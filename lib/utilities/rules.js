"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.rulesFromBNF = rulesFromBNF;
exports.rulesAsString = rulesAsString;
exports.ruleMapFromRules = ruleMapFromRules;
var _occamParsers = require("occam-parsers");
function rulesFromBNF(bnf) {
    var basicParser = _occamParsers.BasicParser.fromBNF(bnf), ruleMap = basicParser.getRuleMap(), rules = Object.values(ruleMap); ///
    return rules;
}
function rulesAsString(rules, multiLine) {
    var maximumRuleNameLength = rules.reduce(function(maximumRuleNameLength1, rule) {
        var ruleName = rule.getName(), ruleNameLength = ruleName.length;
        maximumRuleNameLength1 = Math.max(maximumRuleNameLength1, ruleNameLength);
        return maximumRuleNameLength1;
    }, 0), rulesString = rules.reduce(function(rulesString1, rule) {
        var ruleString = rule.asString(maximumRuleNameLength, multiLine);
        rulesString1 += ruleString;
        return rulesString1;
    }, "").replace(/^\n\n/, "");
    return rulesString;
}
function ruleMapFromRules(rules) {
    var ruleMap = rules.reduce(function(ruleMap1, rule) {
        var ruleName = rule.getName();
        ruleMap1[ruleName] = rule;
        return ruleMap1;
    }, {
    });
    return ruleMap;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcnVsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSBcIm9jY2FtLXBhcnNlcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bGVzRnJvbUJORihibmYpIHtcbiAgY29uc3QgYmFzaWNQYXJzZXIgPSBCYXNpY1BhcnNlci5mcm9tQk5GKGJuZiksXG4gICAgICAgIHJ1bGVNYXAgPSBiYXNpY1BhcnNlci5nZXRSdWxlTWFwKCksXG4gICAgICAgIHJ1bGVzID0gT2JqZWN0LnZhbHVlcyhydWxlTWFwKTsgLy8vXG5cbiAgcmV0dXJuIHJ1bGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVsZXNBc1N0cmluZyhydWxlcywgbXVsdGlMaW5lKSB7XG4gIGNvbnN0IG1heGltdW1SdWxlTmFtZUxlbmd0aCA9IHJ1bGVzLnJlZHVjZSgobWF4aW11bVJ1bGVOYW1lTGVuZ3RoLCBydWxlKSA9PiB7XG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBydWxlLmdldE5hbWUoKSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZUxlbmd0aCA9IHJ1bGVOYW1lLmxlbmd0aDtcblxuICAgICAgICAgIG1heGltdW1SdWxlTmFtZUxlbmd0aCA9IE1hdGgubWF4KG1heGltdW1SdWxlTmFtZUxlbmd0aCwgcnVsZU5hbWVMZW5ndGgpO1xuXG4gICAgICAgICAgcmV0dXJuIG1heGltdW1SdWxlTmFtZUxlbmd0aDtcbiAgICAgICAgfSwgMCksXG4gICAgICAgIHJ1bGVzU3RyaW5nID0gcnVsZXMucmVkdWNlKChydWxlc1N0cmluZywgcnVsZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJ1bGVTdHJpbmcgPSBydWxlLmFzU3RyaW5nKG1heGltdW1SdWxlTmFtZUxlbmd0aCwgbXVsdGlMaW5lKTtcblxuICAgICAgICAgIHJ1bGVzU3RyaW5nICs9IHJ1bGVTdHJpbmc7XG5cbiAgICAgICAgICByZXR1cm4gcnVsZXNTdHJpbmc7XG4gICAgICAgIH0sIFwiXCIpLnJlcGxhY2UoL15cXG5cXG4vLCBcIlwiKTtcblxuICByZXR1cm4gcnVsZXNTdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydWxlTWFwRnJvbVJ1bGVzKHJ1bGVzKSB7XG4gIGNvbnN0IHJ1bGVNYXAgPSBydWxlcy5yZWR1Y2UoKHJ1bGVNYXAsIHJ1bGUpID0+IHtcbiAgICBjb25zdCBydWxlTmFtZSA9IHJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtydWxlTmFtZV0gPSBydWxlO1xuXG4gICAgcmV0dXJuIHJ1bGVNYXA7XG4gIH0sIHt9KTtcblxuICByZXR1cm4gcnVsZU1hcDtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxVQUFZOzs7O1FBSUksWUFBWSxHQUFaLFlBQVk7UUFRWixhQUFhLEdBQWIsYUFBYTtRQW9CYixnQkFBZ0IsR0FBaEIsZ0JBQWdCO0FBOUJKLEdBQWUsQ0FBZixhQUFlO1NBRTNCLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNqQyxHQUFLLENBQUMsV0FBVyxHQUhTLGFBQWUsYUFHVCxPQUFPLENBQUMsR0FBRyxHQUNyQyxPQUFPLEdBQUcsV0FBVyxDQUFDLFVBQVUsSUFDaEMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFHLENBQUcsQUFBSCxFQUFHLEFBQUgsQ0FBRztXQUVsQyxLQUFLO0FBQ2QsQ0FBQztTQUVlLGFBQWEsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDL0MsR0FBSyxDQUFDLHFCQUFxQixHQUFHLEtBQUssQ0FBQyxNQUFNLFVBQUUsc0JBQXFCLEVBQUUsSUFBSSxFQUFLLENBQUM7UUFDckUsR0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUN2QixjQUFjLEdBQUcsUUFBUSxDQUFDLE1BQU07UUFFdEMsc0JBQXFCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxzQkFBcUIsRUFBRSxjQUFjO2VBRS9ELHNCQUFxQjtJQUM5QixDQUFDLEVBQUUsQ0FBQyxHQUNKLFdBQVcsR0FBRyxLQUFLLENBQUMsTUFBTSxVQUFFLFlBQVcsRUFBRSxJQUFJLEVBQUssQ0FBQztRQUNqRCxHQUFLLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLEVBQUUsU0FBUztRQUVqRSxZQUFXLElBQUksVUFBVTtlQUVsQixZQUFXO0lBQ3BCLENBQUMsTUFBTSxPQUFPO1dBRWIsV0FBVztBQUNwQixDQUFDO1NBRWUsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDdkMsR0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsTUFBTSxVQUFFLFFBQU8sRUFBRSxJQUFJLEVBQUssQ0FBQztRQUMvQyxHQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPO1FBRTdCLFFBQU8sQ0FBQyxRQUFRLElBQUksSUFBSTtlQUVqQixRQUFPO0lBQ2hCLENBQUM7O1dBRU0sT0FBTztBQUNoQixDQUFDIn0=