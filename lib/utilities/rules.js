"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.rulesFromBNF = rulesFromBNF;
exports.rulesAsString = rulesAsString;

var _occamParsers = require("occam-parsers");

function rulesFromBNF(bnf) {
  var basicParser = _occamParsers.BasicParser.fromBNF(bnf),
      rules = basicParser.getRules();

  return rules;
}

function rulesAsString(rules, multiLine) {
  var maximumRuleNameLength = rules.reduce(function (maximumRuleNameLength, rule) {
    var ruleName = rule.getName(),
        ruleNameLength = ruleName.length;
    maximumRuleNameLength = Math.max(maximumRuleNameLength, ruleNameLength);
    return maximumRuleNameLength;
  }, 0),
      rulesString = rules.reduce(function (rulesString, rule) {
    var ruleString = rule.asString(maximumRuleNameLength, multiLine);
    rulesString += ruleString;
    return rulesString;
  }, "").replace(/^\n\n/, "");
  return rulesString;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJ1bGVzLmpzIl0sIm5hbWVzIjpbInJ1bGVzRnJvbUJORiIsImJuZiIsImJhc2ljUGFyc2VyIiwiQmFzaWNQYXJzZXIiLCJmcm9tQk5GIiwicnVsZXMiLCJnZXRSdWxlcyIsInJ1bGVzQXNTdHJpbmciLCJtdWx0aUxpbmUiLCJtYXhpbXVtUnVsZU5hbWVMZW5ndGgiLCJyZWR1Y2UiLCJydWxlIiwicnVsZU5hbWUiLCJnZXROYW1lIiwicnVsZU5hbWVMZW5ndGgiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwicnVsZXNTdHJpbmciLCJydWxlU3RyaW5nIiwiYXNTdHJpbmciLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUFFQTs7QUFFTyxTQUFTQSxZQUFULENBQXNCQyxHQUF0QixFQUEyQjtBQUNoQyxNQUFNQyxXQUFXLEdBQUdDLDBCQUFZQyxPQUFaLENBQW9CSCxHQUFwQixDQUFwQjtBQUFBLE1BQ01JLEtBQUssR0FBR0gsV0FBVyxDQUFDSSxRQUFaLEVBRGQ7O0FBR0EsU0FBT0QsS0FBUDtBQUNEOztBQUVNLFNBQVNFLGFBQVQsQ0FBdUJGLEtBQXZCLEVBQThCRyxTQUE5QixFQUF5QztBQUM5QyxNQUFNQyxxQkFBcUIsR0FBR0osS0FBSyxDQUFDSyxNQUFOLENBQWEsVUFBQ0QscUJBQUQsRUFBd0JFLElBQXhCLEVBQWlDO0FBQ3BFLFFBQU1DLFFBQVEsR0FBR0QsSUFBSSxDQUFDRSxPQUFMLEVBQWpCO0FBQUEsUUFDTUMsY0FBYyxHQUFHRixRQUFRLENBQUNHLE1BRGhDO0FBR0FOLElBQUFBLHFCQUFxQixHQUFHTyxJQUFJLENBQUNDLEdBQUwsQ0FBU1IscUJBQVQsRUFBZ0NLLGNBQWhDLENBQXhCO0FBRUEsV0FBT0wscUJBQVA7QUFDRCxHQVB1QixFQU9yQixDQVBxQixDQUE5QjtBQUFBLE1BUU1TLFdBQVcsR0FBR2IsS0FBSyxDQUFDSyxNQUFOLENBQWEsVUFBQ1EsV0FBRCxFQUFjUCxJQUFkLEVBQXVCO0FBQ2hELFFBQU1RLFVBQVUsR0FBR1IsSUFBSSxDQUFDUyxRQUFMLENBQWNYLHFCQUFkLEVBQXFDRCxTQUFyQyxDQUFuQjtBQUVBVSxJQUFBQSxXQUFXLElBQUlDLFVBQWY7QUFFQSxXQUFPRCxXQUFQO0FBQ0QsR0FOYSxFQU1YLEVBTlcsRUFNUEcsT0FOTyxDQU1DLE9BTkQsRUFNVSxFQU5WLENBUnBCO0FBZ0JBLFNBQU9ILFdBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBCYXNpY1BhcnNlciB9IGZyb20gXCJvY2NhbS1wYXJzZXJzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBydWxlc0Zyb21CTkYoYm5mKSB7XG4gIGNvbnN0IGJhc2ljUGFyc2VyID0gQmFzaWNQYXJzZXIuZnJvbUJORihibmYpLFxuICAgICAgICBydWxlcyA9IGJhc2ljUGFyc2VyLmdldFJ1bGVzKCk7XG5cbiAgcmV0dXJuIHJ1bGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVsZXNBc1N0cmluZyhydWxlcywgbXVsdGlMaW5lKSB7XG4gIGNvbnN0IG1heGltdW1SdWxlTmFtZUxlbmd0aCA9IHJ1bGVzLnJlZHVjZSgobWF4aW11bVJ1bGVOYW1lTGVuZ3RoLCBydWxlKSA9PiB7XG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBydWxlLmdldE5hbWUoKSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZUxlbmd0aCA9IHJ1bGVOYW1lLmxlbmd0aDtcblxuICAgICAgICAgIG1heGltdW1SdWxlTmFtZUxlbmd0aCA9IE1hdGgubWF4KG1heGltdW1SdWxlTmFtZUxlbmd0aCwgcnVsZU5hbWVMZW5ndGgpO1xuXG4gICAgICAgICAgcmV0dXJuIG1heGltdW1SdWxlTmFtZUxlbmd0aDtcbiAgICAgICAgfSwgMCksXG4gICAgICAgIHJ1bGVzU3RyaW5nID0gcnVsZXMucmVkdWNlKChydWxlc1N0cmluZywgcnVsZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJ1bGVTdHJpbmcgPSBydWxlLmFzU3RyaW5nKG1heGltdW1SdWxlTmFtZUxlbmd0aCwgbXVsdGlMaW5lKTtcblxuICAgICAgICAgIHJ1bGVzU3RyaW5nICs9IHJ1bGVTdHJpbmc7XG5cbiAgICAgICAgICByZXR1cm4gcnVsZXNTdHJpbmc7XG4gICAgICAgIH0sIFwiXCIpLnJlcGxhY2UoL15cXG5cXG4vLCBcIlwiKTtcblxuICByZXR1cm4gcnVsZXNTdHJpbmc7XG59XG4iXX0=